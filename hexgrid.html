<html>
    <head>
        <title>Hex Grid Demo</title>
        <link rel='stylesheet' href='css/reset.css'>
        <link rel='stylesheet' href='css/uibot.css'>
    </head>
    <body>
        <script src='./js/sketch.js'></script>
        <script src='./js/uibot.js'></script>
        <script src='./js/vector.js'></script>
        <script src='./js/hex.js'></script>
        <script type="text/javascript">
            var sketch = CanvasSketch(window.innerWidth, window.innerHeight);
            var ctx = sketch.ctx;

            var Hex = Hex();
            var grid = Hex.Grid();
            var canvas = Hex.Canvas(ctx);

            grid.cell_radius(40);
            grid.orientation(Hex.Orientation.SHARP);
            grid.add(Hex.Layout.Hexagonal(4));

            // Called every frame
            function draw() {
                var cx = sketch.canvas.width * 0.5;
                var cy = sketch.canvas.height * 0.5;
                ctx.fillStyle = 'red';
                ctx.strokeStyle = 'black';
                ctx.moveTo(cx, cy);
                var cells = grid.cells();
                for(var i = 0; i < cells.length; i++) {
                    var p = grid.hex_to_pixel(cells[i]);
                    canvas.draw_hexagon(
                        {x: cx + p.x, y: cy + p.y}, 
                        grid.cell_radius(), 
                        grid.orientation(), true, true);
                }
                
            }

            // Setup
            sketch.setRenderCallback(draw);
            sketch.setFullWindow(true);
            sketch.render();

            var params = {
                 
            }

            var uibot = UIBot();
            document.body.appendChild(sketch.canvas);
            document.body.appendChild(uibot.build(window, params));
            
            window.addEventListener('resize', function(event) {
                x = window.innerWidth * 0.5;
                y = window.innerHeight;
            });
        </script>
    </body>
</html>
